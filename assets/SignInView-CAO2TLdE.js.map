{"version":3,"file":"SignInView-CAO2TLdE.js","sources":["../../src/views/auth/SignInView.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { reactive, computed } from \"vue\";\r\nimport { useTemplateStore } from \"@/stores/template\";\r\nimport router from \"@/router/router\";\r\n\r\n// Vuelidate, for more info and examples you can check out https://github.com/vuelidate/vuelidate\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, minLength, email } from \"@vuelidate/validators\";\r\nimport { useMainStore } from \"@/stores/main\";\r\nimport UserService from \"@/services/UserService\";\r\n\r\n// Main store and Router\r\nconst template = useTemplateStore();\r\nconst main = useMainStore();\r\n\r\n// Input state variables\r\nconst state = reactive({\r\n\temail: null,\r\n\tpassword: null,\r\n\terrorMessage: \"\",\r\n});\r\n\r\n// Validation rules\r\nconst rules = computed(() => {\r\n\treturn {\r\n\t\temail: {\r\n\t\t\trequired,\r\n\t\t\temail,\r\n\t\t\tminLength: minLength(3),\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t\trequired,\r\n\t\t\tminLength: minLength(5),\r\n\t\t},\r\n\t};\r\n});\r\n\r\n// Use vuelidate\r\nconst v$ = useVuelidate(rules, state);\r\n\r\n// On form submission\r\nasync function onSubmit() {\r\n\tconst result = await v$.value.$validate();\r\n\r\n\tif (!result || !state.email || !state.password) {\r\n\t\t// notify user form is invalid\r\n\t\treturn;\r\n\t}\r\n\r\n\tUserService.signInUser(state.email, state.password).then((signedInUser) => {\r\n\t\tmain.signIn(signedInUser);\r\n\r\n\t\trouter.push(\"stash\");\r\n\t});\r\n}\r\n</script>\r\n\r\n<template>\r\n\t<!-- Page Content -->\r\n\t<div class=\"hero-static d-flex align-items-center\">\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"row justify-content-center push\">\r\n\t\t\t\t<div class=\"col-md-8 col-lg-6 col-xl-4\">\r\n\t\t\t\t\t<!-- Sign In Block -->\r\n\t\t\t\t\t<BaseBlock title=\"Sign In\" class=\"mb-0\">\r\n\t\t\t\t\t\t<template #options>\r\n\t\t\t\t\t\t\t<RouterLink\r\n\t\t\t\t\t\t\t\t:to=\"{ name: 'reminder' }\"\r\n\t\t\t\t\t\t\t\tclass=\"btn-block-option fs-sm\"\r\n\t\t\t\t\t\t\t\t>Forgot Password?</RouterLink\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RouterLink\r\n\t\t\t\t\t\t\t\t:to=\"{ name: 'signup' }\"\r\n\t\t\t\t\t\t\t\tclass=\"btn-block-option\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-user-plus\"></i>\r\n\t\t\t\t\t\t\t</RouterLink>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t<div class=\"p-sm-3 px-lg-4 px-xxl-5 py-lg-5\">\r\n\t\t\t\t\t\t\t<h1 class=\"h2 mb-1\">OneUI</h1>\r\n\t\t\t\t\t\t\t<p class=\"fw-medium text-muted\">\r\n\t\t\t\t\t\t\t\tWelcome, please login.\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<!-- Sign In Form -->\r\n\t\t\t\t\t\t\t<form @submit.prevent=\"onSubmit\">\r\n\t\t\t\t\t\t\t\t<div class=\"py-3\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-alt form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"login-email\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"login-email\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t'is-invalid':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv$.email.$errors.length,\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"state.email\"\r\n\t\t\t\t\t\t\t\t\t\t\t@blur=\"v$.email.$touch\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"v$.email.$errors.length\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"invalid-feedback animated fadeIn\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tPlease enter your email\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control form-control-alt form-control-lg\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"login-password\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"login-password\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t'is-invalid':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv$.password.$errors.length,\r\n\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"state.password\"\r\n\t\t\t\t\t\t\t\t\t\t\t@blur=\"v$.password.$touch\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"v$.password.$errors.length\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"invalid-feedback animated fadeIn\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tPlease enter your password\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"form-check\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"login-remember\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"login-remember\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-check-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor=\"login-remember\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>Remember Me</label\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"mb-4\">\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"btn w-100 btn-alt-primary\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"fa fa-fw fa-sign-in-alt me-1 opacity-50\"\r\n\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<Transition name=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"state.errorMessage\">{{\r\n\t\t\t\t\t\t\t\t\t\t\tstate.errorMessage\r\n\t\t\t\t\t\t\t\t\t\t}}</span>\r\n\t\t\t\t\t\t\t\t\t</Transition>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t<!-- END Sign In Form -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</BaseBlock>\r\n\t\t\t\t\t<!-- END Sign In Block -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"fs-sm text-muted text-center\">\r\n\t\t\t\t<strong>{{\r\n\t\t\t\t\ttemplate.app.name + \" \" + template.app.version\r\n\t\t\t\t}}</strong>\r\n\t\t\t\t&copy;\r\n\t\t\t\t{{ template.app.copyright }}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- END Page Content -->\r\n</template>\r\n"],"names":["template","useTemplateStore","main","useMainStore","state","reactive","rules","computed","required","email","minLength","v$","useVuelidate","onSubmit","UserService","signedInUser","router"],"mappings":"wwBAYA,MAAMA,EAAWC,EAAiB,EAC5BC,EAAOC,EAAa,EAGpBC,EAAQC,EAAS,CACtB,MAAO,KACP,SAAU,KACV,aAAc,EAAA,CACd,EAGKC,EAAQC,EAAS,KACf,CACN,MAAO,CACN,SAAAC,EACA,MAAAC,EACA,UAAWC,EAAU,CAAC,CACvB,EACA,SAAU,CACT,SAAAF,EACA,UAAWE,EAAU,CAAC,CAAA,CAExB,EACA,EAGKC,EAAKC,EAAaN,EAAOF,CAAK,EAGpC,eAAeS,GAAW,CAGrB,CAFW,MAAMF,EAAG,MAAM,UAAU,GAEzB,CAACP,EAAM,OAAS,CAACA,EAAM,UAK1BU,EAAA,WAAWV,EAAM,MAAOA,EAAM,QAAQ,EAAE,KAAMW,GAAiB,CAC1Eb,EAAK,OAAOa,CAAY,EAExBC,EAAO,KAAK,OAAO,CAAA,CACnB,CAAA"}